const fs=require("fs"),{createCanvas}=require("canvas");fs.existsSync("./assets")||fs.mkdirSync("./assets",{recursive:!0}),fs.existsSync("./assets/paper_plane.png")||(console.error("⚠  paper_plane.png not found in ./assets — please add it first."),process.exit(1));const obstacleCanvas=createCanvas(60,200),obstacleCtx=obstacleCanvas.getContext("2d");obstacleCtx.fillStyle="#8B4513",obstacleCtx.fillRect(0,0,60,200),obstacleCtx.fillStyle="#654321";for(let t=0;t<200;t+=20)obstacleCtx.fillRect(5,t,50,2);fs.writeFileSync("./assets/obstacle.png",obstacleCanvas.toBuffer());const starCanvas=createCanvas(40,40),starCtx=starCanvas.getContext("2d");starCtx.fillStyle="#FFD700",starCtx.beginPath();for(let t=0;t<5;t++){const e=2*t*Math.PI/5,a=20*Math.cos(e)+20,s=20*Math.sin(e)+20;0===t?starCtx.moveTo(a,s):starCtx.lineTo(a,s);const r=2*(t+.5)*Math.PI/5,l=10*Math.cos(r)+20,o=10*Math.sin(r)+20;starCtx.lineTo(l,o)}starCtx.closePath(),starCtx.fill(),fs.writeFileSync("./assets/star.png",starCanvas.toBuffer());const windCanvas=createCanvas(32,32),windCtx=windCanvas.getContext("2d");windCtx.fillStyle="rgba(255, 255, 255, 0.5)",windCtx.beginPath(),windCtx.moveTo(0,16),windCtx.lineTo(32,16),windCtx.lineTo(24,8),windCtx.lineTo(32,16),windCtx.lineTo(24,24),windCtx.closePath(),windCtx.fill(),fs.writeFileSync("./assets/wind.png",windCanvas.toBuffer());const groundCanvas=createCanvas(64,50),groundCtx=groundCanvas.getContext("2d");groundCtx.fillStyle="#228B22",groundCtx.fillRect(0,0,64,50),groundCtx.fillStyle="#32CD32";for(let t=0;t<64;t+=10)groundCtx.fillRect(t,0,2,10*Math.random()+5);fs.writeFileSync("./assets/ground.png",groundCanvas.toBuffer());const cloudCanvas=createCanvas(100,50),cloudCtx=cloudCanvas.getContext("2d");cloudCtx.fillStyle="rgba(255, 255, 255, 0.3)",cloudCtx.beginPath(),cloudCtx.arc(25,25,20,0,2*Math.PI),cloudCtx.arc(50,25,25,0,2*Math.PI),cloudCtx.arc(75,25,20,0,2*Math.PI),cloudCtx.fill(),fs.writeFileSync("./assets/cloud.png",cloudCanvas.toBuffer());const spikeyCanvas=createCanvas(48,48),spikeyCtx=spikeyCanvas.getContext("2d");spikeyCtx.save(),spikeyCtx.translate(24,24),spikeyCtx.strokeStyle="#222",spikeyCtx.lineWidth=3;for(let t=0;t<16;t++){const e=2*t*Math.PI/16;spikeyCtx.beginPath(),spikeyCtx.moveTo(16*Math.cos(e),16*Math.sin(e)),spikeyCtx.lineTo(23*Math.cos(e),23*Math.sin(e)),spikeyCtx.stroke()}spikeyCtx.restore();const grad=spikeyCtx.createRadialGradient(24,24,4,24,24,16);grad.addColorStop(0,"#eee"),grad.addColorStop(.5,"#aaa"),grad.addColorStop(1,"#444"),spikeyCtx.beginPath(),spikeyCtx.arc(24,24,15,0,2*Math.PI),spikeyCtx.fillStyle=grad,spikeyCtx.fill(),spikeyCtx.lineWidth=2,spikeyCtx.strokeStyle="#333",spikeyCtx.stroke(),spikeyCtx.fillStyle="#f44",spikeyCtx.beginPath(),spikeyCtx.arc(32,18,2,0,2*Math.PI),spikeyCtx.arc(18,30,1.5,0,2*Math.PI),spikeyCtx.arc(28,32,1.2,0,2*Math.PI),spikeyCtx.fill(),fs.writeFileSync("./assets/spikey.png",spikeyCanvas.toBuffer());const laserCanvas=createCanvas(120,32),laserCtx=laserCanvas.getContext("2d");laserCtx.save(),laserCtx.translate(16,16),laserCtx.beginPath(),laserCtx.arc(0,0,12,0,2*Math.PI),laserCtx.fillStyle="#888",laserCtx.fill(),laserCtx.lineWidth=3,laserCtx.strokeStyle="#333",laserCtx.stroke(),laserCtx.beginPath(),laserCtx.arc(0,0,7,0,2*Math.PI),laserCtx.fillStyle="#222",laserCtx.fill(),laserCtx.beginPath(),laserCtx.arc(0,0,10,0,2*Math.PI),laserCtx.strokeStyle="#ff0",laserCtx.lineWidth=2,laserCtx.stroke(),laserCtx.restore();const beamGrad=laserCtx.createLinearGradient(16,16,120,16);beamGrad.addColorStop(0,"rgba(255,0,0,0.8)"),beamGrad.addColorStop(.2,"rgba(255,0,0,0.5)"),beamGrad.addColorStop(1,"rgba(255,0,0,0.1)"),laserCtx.save(),laserCtx.globalAlpha=.7,laserCtx.beginPath(),laserCtx.moveTo(16,8),laserCtx.lineTo(120,8),laserCtx.lineTo(120,24),laserCtx.lineTo(16,24),laserCtx.closePath(),laserCtx.fillStyle=beamGrad,laserCtx.fill(),laserCtx.restore(),laserCtx.save(),laserCtx.beginPath(),laserCtx.moveTo(16,14),laserCtx.lineTo(120,14),laserCtx.lineTo(120,18),laserCtx.lineTo(16,18),laserCtx.closePath(),laserCtx.fillStyle="#ff2222",laserCtx.shadowColor="#ff2222",laserCtx.shadowBlur=8,laserCtx.fill(),laserCtx.restore(),fs.writeFileSync("./assets/laser.png",laserCanvas.toBuffer());const birdCanvas=createCanvas(48,32),birdCtx=birdCanvas.getContext("2d"),birdGrad=birdCtx.createLinearGradient(0,0,48,32);birdGrad.addColorStop(0,"#6cf"),birdGrad.addColorStop(1,"#36a"),birdCtx.beginPath(),birdCtx.ellipse(24,18,14,9,0,0,2*Math.PI),birdCtx.fillStyle=birdGrad,birdCtx.fill(),birdCtx.save(),birdCtx.translate(24,18),birdCtx.rotate(-.3),birdCtx.beginPath(),birdCtx.ellipse(0,0,8,4,0,0,2*Math.PI),birdCtx.fillStyle="#48a",birdCtx.fill(),birdCtx.restore(),birdCtx.beginPath(),birdCtx.moveTo(36,18),birdCtx.lineTo(44,16),birdCtx.lineTo(44,20),birdCtx.closePath(),birdCtx.fillStyle="#fc3",birdCtx.fill(),birdCtx.beginPath(),birdCtx.arc(32,15,2,0,2*Math.PI),birdCtx.fillStyle="#fff",birdCtx.fill(),birdCtx.beginPath(),birdCtx.arc(32,15,1,0,2*Math.PI),birdCtx.fillStyle="#222",birdCtx.fill(),fs.writeFileSync("./assets/bird.png",birdCanvas.toBuffer());const heartCanvas=createCanvas(40,36),heartCtx=heartCanvas.getContext("2d");heartCtx.save(),heartCtx.translate(20,8),heartCtx.beginPath(),heartCtx.moveTo(0,6),heartCtx.bezierCurveTo(0,0,-10,0,-10,7),heartCtx.bezierCurveTo(-10,14,0,17,0,20),heartCtx.bezierCurveTo(0,17,10,14,10,7),heartCtx.bezierCurveTo(10,0,0,0,0,6),heartCtx.closePath(),heartCtx.fillStyle="#ff3a3a",heartCtx.fill(),heartCtx.lineWidth=3,heartCtx.strokeStyle="#fff",heartCtx.stroke(),heartCtx.restore(),fs.writeFileSync("./assets/heart.png",heartCanvas.toBuffer());const boostCanvas=createCanvas(40,40),boostCtx=boostCanvas.getContext("2d"),tailGrad=boostCtx.createLinearGradient(5,20,35,20);tailGrad.addColorStop(0,"rgba(33,150,243,0.1)"),tailGrad.addColorStop(.3,"rgba(33,150,243,0.3)"),tailGrad.addColorStop(.7,"rgba(33,150,243,0.7)"),tailGrad.addColorStop(1,"rgba(33,150,243,1)"),boostCtx.save(),boostCtx.beginPath(),boostCtx.moveTo(5,20),boostCtx.quadraticCurveTo(15,10,35,20),boostCtx.quadraticCurveTo(15,30,5,20),boostCtx.closePath(),boostCtx.fillStyle=tailGrad,boostCtx.shadowColor="#2196f3",boostCtx.shadowBlur=12,boostCtx.fill(),boostCtx.restore(),boostCtx.save(),boostCtx.beginPath(),boostCtx.ellipse(32,20,7,12,Math.PI/8,0,2*Math.PI),boostCtx.fillStyle="#fff",boostCtx.shadowColor="#4fc3f7",boostCtx.shadowBlur=8,boostCtx.fill(),boostCtx.restore(),boostCtx.save(),boostCtx.beginPath(),boostCtx.ellipse(32,20,5,8,Math.PI/8,0,2*Math.PI),boostCtx.fillStyle="#2196f3",boostCtx.shadowColor="#1976d2",boostCtx.shadowBlur=4,boostCtx.fill(),boostCtx.restore(),fs.writeFileSync("./assets/boost.png",boostCanvas.toBuffer());const strengthCanvas=createCanvas(40,40),strengthCtx=strengthCanvas.getContext("2d");strengthCtx.save(),strengthCtx.translate(20,24),strengthCtx.beginPath(),strengthCtx.ellipse(0,0,10,12,0,0,2*Math.PI),strengthCtx.fillStyle="#e53935",strengthCtx.fill(),strengthCtx.beginPath(),strengthCtx.ellipse(-10,-6,4,7,Math.PI/6,0,2*Math.PI),strengthCtx.fillStyle="#b71c1c",strengthCtx.fill();for(let t=-1.5;t<=1.5;t++)strengthCtx.beginPath(),strengthCtx.ellipse(5*t,-12,4,7,0,0,2*Math.PI),strengthCtx.fillStyle="#d32f2f",strengthCtx.fill();strengthCtx.restore(),fs.writeFileSync("./assets/strength.png",strengthCanvas.toBuffer());const coinCanvas=createCanvas(40,40),coinCtx=coinCanvas.getContext("2d");coinCtx.beginPath(),coinCtx.arc(20,20,16,0,2*Math.PI),coinCtx.fillStyle="#ffd700",coinCtx.shadowColor="#ffec80",coinCtx.shadowBlur=8,coinCtx.fill(),coinCtx.shadowBlur=0,coinCtx.lineWidth=3,coinCtx.strokeStyle="#bfa100",coinCtx.stroke(),coinCtx.save(),coinCtx.translate(20,20),coinCtx.beginPath();for(let t=0;t<5;t++){const e=2*t*Math.PI/5-Math.PI/2,a=7*Math.cos(e),s=7*Math.sin(e);0===t?coinCtx.moveTo(a,s):coinCtx.lineTo(a,s);const r=e+Math.PI/5,l=3.5*Math.cos(r),o=3.5*Math.sin(r);coinCtx.lineTo(l,o)}coinCtx.closePath(),coinCtx.fillStyle="#fff8e1",coinCtx.fill(),coinCtx.restore(),fs.writeFileSync("./assets/coin.png",coinCanvas.toBuffer()),console.log("Assets generated successfully!");